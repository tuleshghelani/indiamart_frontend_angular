"use strict";(self.webpackChunkworkflow=self.webpackChunkworkflow||[]).push([[76],{2039:(c,l,e)=>{e.r(l),e.d(l,{CreateFollowUpDialogComponent:()=>P});var a=e(5351),o=e(9417),E=e(951),t=e(4438),u=e(177),f=e(5175),i=e(6467),g=e(9631),p=e(5084),D=e(8834);let P=(()=>{class m{constructor(n,s,_,r,d){this.dialogRef=n,this.data=s,this.fb=_,this.datePipe=r,this.enquiryService=d,this.statusOptions=E.y,this.enquiryId=0,this.followUpForm=this.fb.group({enquiry_id:[s.enquiryId],follow_up_status:["S",o.k0.required],description:[null],next_action_date:[null,o.k0.required],next_action_time:[null,o.k0.required]})}ngOnInit(){}onSubmit(){if(this.followUpForm.valid){const n=this.datePipe.transform(this.followUpForm.get("next_action_date")?.value,"dd-MM-yyyy"),s=this.followUpForm.get("next_action_time")?.value;console.log("Time value:",s);const r=`${n} ${s+":00"||0}`;console.log("Combined DateTime:",r);const d={...this.followUpForm.value,next_action_date:r};delete d.next_action_time,this.dialogRef.close(d)}}onCancel(){this.dialogRef.close()}refreshEnquiryDetails(){this.enquiryService.getEnquiryDetails(this.enquiryId).subscribe(n=>{console.log("Enquiry details refreshed",n)},n=>{console.error("Error fetching enquiry details",n)})}static{this.\u0275fac=function(s){return new(s||m)(t.rXU(a.CP),t.rXU(a.Vh),t.rXU(o.ok),t.rXU(u.vh),t.rXU(f.X))}}static{this.\u0275cmp=t.VBU({type:m,selectors:[["app-create-follow-up-dialog"]],decls:24,vars:4,consts:[["picker",""],["mat-dialog-title",""],[3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","formControlName","next_action_date","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","type","time","formControlName","next_action_time","required",""],["matInput","","formControlName","description","rows","3"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"]],template:function(s,_){if(1&s){const r=t.RV6();t.j41(0,"h2",1),t.EFF(1,"Create Follow-up"),t.k0s(),t.j41(2,"mat-dialog-content")(3,"form",2),t.bIt("ngSubmit",function(){return t.eBV(r),t.Njj(_.onSubmit())}),t.j41(4,"mat-form-field",3)(5,"mat-label"),t.EFF(6,"Next Action Date"),t.k0s(),t.nrm(7,"input",4)(8,"mat-datepicker-toggle",5)(9,"mat-datepicker",null,0),t.k0s(),t.j41(11,"mat-form-field",3)(12,"mat-label"),t.EFF(13,"Next Action Time"),t.k0s(),t.nrm(14,"input",6),t.k0s(),t.j41(15,"mat-form-field",3)(16,"mat-label"),t.EFF(17,"Description"),t.k0s(),t.nrm(18,"textarea",7),t.k0s()()(),t.j41(19,"mat-dialog-actions",8)(20,"button",9),t.bIt("click",function(){return t.eBV(r),t.Njj(_.onCancel())}),t.EFF(21,"Cancel"),t.k0s(),t.j41(22,"button",10),t.bIt("click",function(){return t.eBV(r),t.Njj(_.onSubmit())}),t.EFF(23,"Create"),t.k0s()()}if(2&s){const r=t.sdS(10);t.R7$(3),t.Y8G("formGroup",_.followUpForm),t.R7$(4),t.Y8G("matDatepicker",r),t.R7$(),t.Y8G("for",r),t.R7$(14),t.Y8G("disabled",!_.followUpForm.valid)}},dependencies:[o.qT,o.me,o.BC,o.cb,o.YS,o.j4,o.JD,a.BI,a.E7,a.Yi,i.rl,i.nJ,i.yw,g.fg,p.Vh,p.bZ,p.bU,D.$z],styles:["[_nghost-%COMP%]{display:block;width:100%;max-width:400px}mat-dialog-content[_ngcontent-%COMP%]{padding-top:20px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{min-height:100px}mat-dialog-actions[_ngcontent-%COMP%]{padding-top:20px}"]})}}return m})()},3670:(c,l,e)=>{e.r(l),e.d(l,{CreateFollowUpDialogModule:()=>C});var a=e(177),o=e(9417),E=e(5351),t=e(6467),u=e(9631),f=e(2798),i=e(5084),g=e(8834),p=e(9183),D=e(1530),P=e(2634),m=e(4438);let C=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=m.$C({type:n})}static{this.\u0275inj=m.G2t({imports:[a.MD,o.X1,E.hM,t.RG,u.fS,f.Ve,i.X6,g.Hl,p.D6,D.th.forRoot(P.d)]})}}return n})()},9114:(c,l,e)=>{e.d(l,{O:()=>t});var a=e(5312),o=e(4438),E=e(1626);let t=(()=>{class u{constructor(i){this.http=i,this.baseUrl=a.c.apiUrl}createFollowUp(i){return this.http.post(`${this.baseUrl}/api/follow-up/create/`,i)}searchFollowUps(i){return this.http.post(`${this.baseUrl}/api/follow-up/search-followup/`,i)}static{this.\u0275fac=function(g){return new(g||u)(o.KVO(E.Qq))}}static{this.\u0275prov=o.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()},951:(c,l,e)=>{e.d(l,{N:()=>o,y:()=>a});const a=[{value:"L",viewValue:"Loss"},{value:"P",viewValue:"Pending"},{value:"W",viewValue:"Win"},{value:"I",viewValue:"Interested"}],o=[{value:"S",viewValue:"Scheduled"},{value:"C",viewValue:"Completed"}]},3319:(c,l,e)=>{e.d(l,{x:()=>a});const a={fgsType:"three-strings",fgsColor:"#1976d2",fgsSize:70,overlayColor:"rgba(255,255,255,0.8)",hasProgressBar:!1,masterLoaderId:"master",overlayBorderRadius:"4px",gap:24,blur:8,textColor:"#1976d2",textPosition:"center-center",logoPosition:"center-center",logoSize:120,logoUrl:"https://tuleshghelani.github.io/jk_industries/assets/loader-logo.png"}},4099:(c,l,e)=>{function a(o){switch(o){case"W":return"Direct Enquiries";case"B":return"Buy-Leads";case"P":return"PNS Calls";case"V":case"BIZ":return"Catalog-view Leads";case"WA":return"WhatsApp Enquiries";case"M":return"Manual Enquiries";default:return"Unknown"}}e.d(l,{$:()=>a})}}]);
