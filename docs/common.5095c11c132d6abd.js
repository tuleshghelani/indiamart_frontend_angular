"use strict";(self.webpackChunkworkflow=self.webpackChunkworkflow||[]).push([[76],{2039:(g,l,a)=>{a.r(l),a.d(l,{CreateFollowUpDialogComponent:()=>f});var r=a(5351),e=a(9417),m=a(951),t=a(4438),_=a(177),h=a(5175),n=a(6467),D=a(9631),o=a(5084),u=a(8834);let f=(()=>{class E{constructor(i,d,c,s,p){this.dialogRef=i,this.data=d,this.fb=c,this.datePipe=s,this.enquiryService=p,this.statusOptions=m.y,this.enquiryId=0,this.followUpForm=this.fb.group({enquiry_id:[d.enquiryId],follow_up_status:["S",e.k0.required],description:[null],next_action_date:[null,e.k0.required],next_action_time:[null,e.k0.required]})}ngOnInit(){}onSubmit(){if(this.followUpForm.valid){const i=this.datePipe.transform(this.followUpForm.get("next_action_date")?.value,"dd-MM-yyyy"),d=this.followUpForm.get("next_action_time")?.value;console.log("Time value:",d);const s=`${i} ${d+":00"||0}`;console.log("Combined DateTime:",s);const p={...this.followUpForm.value,next_action_date:s};delete p.next_action_time,this.dialogRef.close(p)}}onCancel(){this.dialogRef.close()}refreshEnquiryDetails(){this.enquiryService.getEnquiryDetails(this.enquiryId).subscribe(i=>{console.log("Enquiry details refreshed",i)},i=>{console.error("Error fetching enquiry details",i)})}static{this.\u0275fac=function(d){return new(d||E)(t.rXU(r.CP),t.rXU(r.Vh),t.rXU(e.ok),t.rXU(_.vh),t.rXU(h.X))}}static{this.\u0275cmp=t.VBU({type:E,selectors:[["app-create-follow-up-dialog"]],decls:24,vars:4,consts:[["picker",""],["mat-dialog-title",""],[3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","formControlName","next_action_date","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","type","time","formControlName","next_action_time","required",""],["matInput","","formControlName","description","rows","3"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"]],template:function(d,c){if(1&d){const s=t.RV6();t.j41(0,"h2",1),t.EFF(1,"Create Follow-up"),t.k0s(),t.j41(2,"mat-dialog-content")(3,"form",2),t.bIt("ngSubmit",function(){return t.eBV(s),t.Njj(c.onSubmit())}),t.j41(4,"mat-form-field",3)(5,"mat-label"),t.EFF(6,"Next Action Date"),t.k0s(),t.nrm(7,"input",4)(8,"mat-datepicker-toggle",5)(9,"mat-datepicker",null,0),t.k0s(),t.j41(11,"mat-form-field",3)(12,"mat-label"),t.EFF(13,"Next Action Time"),t.k0s(),t.nrm(14,"input",6),t.k0s(),t.j41(15,"mat-form-field",3)(16,"mat-label"),t.EFF(17,"Description"),t.k0s(),t.nrm(18,"textarea",7),t.k0s()()(),t.j41(19,"mat-dialog-actions",8)(20,"button",9),t.bIt("click",function(){return t.eBV(s),t.Njj(c.onCancel())}),t.EFF(21,"Cancel"),t.k0s(),t.j41(22,"button",10),t.bIt("click",function(){return t.eBV(s),t.Njj(c.onSubmit())}),t.EFF(23,"Create"),t.k0s()()}if(2&d){const s=t.sdS(10);t.R7$(3),t.Y8G("formGroup",c.followUpForm),t.R7$(4),t.Y8G("matDatepicker",s),t.R7$(),t.Y8G("for",s),t.R7$(14),t.Y8G("disabled",!c.followUpForm.valid)}},dependencies:[e.qT,e.me,e.BC,e.cb,e.YS,e.j4,e.JD,r.BI,r.E7,r.Yi,n.rl,n.nJ,n.yw,D.fg,o.Vh,o.bZ,o.bU,u.$z],styles:["[_nghost-%COMP%]{display:block;width:100%;max-width:400px}mat-dialog-content[_ngcontent-%COMP%]{padding-top:20px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}textarea[_ngcontent-%COMP%]{min-height:100px}mat-dialog-actions[_ngcontent-%COMP%]{padding-top:20px}"]})}}return E})()},3670:(g,l,a)=>{a.r(l),a.d(l,{CreateFollowUpDialogModule:()=>P});var r=a(177),e=a(9417),m=a(5351),t=a(6467),_=a(9631),h=a(2798),n=a(5084),D=a(8834),o=a(9183),u=a(1530),f=a(2634),E=a(4438);let P=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=E.$C({type:i})}static{this.\u0275inj=E.G2t({imports:[r.MD,e.X1,m.hM,t.RG,_.fS,h.Ve,n.X6,D.Hl,o.D6,u.th.forRoot(f.d)]})}}return i})()},5175:(g,l,a)=>{a.d(l,{X:()=>h});var r=a(5312),e=a(4438),m=a(1626),t=a(5351),_=a(1530);let h=(()=>{class n{constructor(o,u,f){this.http=o,this.dialog=u,this.ngxLoader=f,this.baseUrl=r.c.apiUrl}searchEnquiries(o){return this.http.post(`${this.baseUrl}/api/enquiry/search-enquiries/`,o)}downloadEnquiries(o){return this.http.post(`${this.baseUrl}/api/enquiry/download-enquiries-excel/`,o,{responseType:"blob"})}getEnquiryDetails(o){return this.http.post(`${this.baseUrl}/api/enquiry/get-enquiry-details/`,{id:o})}openFollowUpDialog(o){this.ngxLoader.start(),a.e(76).then(a.bind(a,2039)).then(({CreateFollowUpDialogComponent:u})=>{this.ngxLoader.stop(),this.dialog.open(u,{width:"500px",data:{enquiryId:o}})}).catch(u=>{console.error("Error loading dialog:",u),this.ngxLoader.stop()})}updateEnquiryStatus(o){return this.http.post(`${this.baseUrl}/api/enquiry/update-enquiry-status/`,o)}createManualEnquiry(o){return this.http.post(`${this.baseUrl}/api/enquiry/manual-new-enquiry/`,o)}static{this.\u0275fac=function(u){return new(u||n)(e.KVO(m.Qq),e.KVO(t.bZ),e.KVO(_.eD))}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()},9114:(g,l,a)=>{a.d(l,{O:()=>t});var r=a(5312),e=a(4438),m=a(1626);let t=(()=>{class _{constructor(n){this.http=n,this.baseUrl=r.c.apiUrl}createFollowUp(n){return this.http.post(`${this.baseUrl}/api/follow-up/create/`,n)}searchFollowUps(n){return this.http.post(`${this.baseUrl}/api/follow-up/search-followup/`,n)}static{this.\u0275fac=function(D){return new(D||_)(e.KVO(m.Qq))}}static{this.\u0275prov=e.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},951:(g,l,a)=>{a.d(l,{N:()=>e,y:()=>r});const r=[{value:"L",viewValue:"Loss"},{value:"P",viewValue:"Pending"},{value:"W",viewValue:"Win"},{value:"I",viewValue:"Interested"}],e=[{value:"S",viewValue:"Scheduled"},{value:"C",viewValue:"Completed"}]},3319:(g,l,a)=>{a.d(l,{x:()=>r});const r={fgsType:"three-strings",fgsColor:"#1976d2",fgsSize:70,overlayColor:"rgba(255,255,255,0.8)",hasProgressBar:!1,masterLoaderId:"master",overlayBorderRadius:"4px",gap:24,blur:8,textColor:"#1976d2",textPosition:"center-center",logoPosition:"center-center",logoSize:120,logoUrl:"https://tuleshghelani.github.io/jk_industries/assets/loader-logo.png"}},4099:(g,l,a)=>{function r(e){switch(e){case"W":return"Direct Enquiries";case"B":return"Buy-Leads";case"P":return"PNS Calls";case"V":case"BIZ":return"Catalog-view Leads";case"WA":return"WhatsApp Enquiries";case"M":return"Manual Enquiries";default:return"Unknown"}}a.d(l,{$:()=>r})}}]);
